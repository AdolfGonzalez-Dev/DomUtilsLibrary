{"version":3,"sources":["../src/form/validators.js"],"names":[],"mappings":"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","file":"validators.js","sourcesContent":["/**\n * Form Validators\n * Pure functions that return null (valid) or error message (invalid)\n * @module form/validators\n */\n\n// =====================\n// Basic Validators\n// =====================\n\n/**\n * Validate that field has a value\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function required(message = 'This field is required') {\n  return (value) => {\n    if (!value && value !== 0 && value !== false) {\n      return message;\n    }\n    return null;\n  };\n}\n\n/**\n * Validate email format\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function email(message = 'Invalid email address') {\n  return (value) => {\n    if (!value) return null;\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!re.test(value)) return message;\n    return null;\n  };\n}\n\n/**\n * Validate minimum string length\n * @param {number} min - Minimum length\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function minLength(min, message = `Minimum ${min} characters required`) {\n  return (value) => {\n    if (!value) return null;\n    if (String(value).length < min) return message;\n    return null;\n  };\n}\n\n/**\n * Validate maximum string length\n * @param {number} max - Maximum length\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function maxLength(max, message = `Maximum ${max} characters allowed`) {\n  return (value) => {\n    if (!value) return null;\n    if (String(value).length > max) return message;\n    return null;\n  };\n}\n\n/**\n * Validate minimum numeric value\n * @param {number} min - Minimum value\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function minValue(min, message = `Minimum value is ${min}`) {\n  return (value) => {\n    if (value === null || value === undefined || value === '') return null;\n    if (Number(value) < min) return message;\n    return null;\n  };\n}\n\n/**\n * Validate maximum numeric value\n * @param {number} max - Maximum value\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function maxValue(max, message = `Maximum value is ${max}`) {\n  return (value) => {\n    if (value === null || value === undefined || value === '') return null;\n    if (Number(value) > max) return message;\n    return null;\n  };\n}\n\n/**\n * Validate against regex pattern\n * @param {RegExp} regex - Pattern to match\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function pattern(regex, message = 'Invalid format') {\n  return (value) => {\n    if (!value) return null;\n    if (!regex.test(String(value))) return message;\n    return null;\n  };\n}\n\n// =====================\n// Composite Validators\n// =====================\n\n/**\n * Compose multiple validators\n * @param {...Function} validators - Validator functions\n * @returns {Function} Combined validator\n */\nexport function compose(...validators) {\n  return async (value, formValues) => {\n    for (const validator of validators) {\n      const error = await Promise.resolve(validator(value, formValues));\n      if (error) return error;\n    }\n    return null;\n  };\n}\n\n/**\n * Custom validator with function\n * @param {Function} fn - Validation function\n * @param {string} message - Error message if fails\n * @returns {Function} Validator function\n */\nexport function custom(fn, message = 'Validation failed') {\n  return (value) => {\n    try {\n      const result = fn(value);\n      if (result === false) return message;\n      if (typeof result === 'string') return result;\n      return null;\n    } catch (err) {\n      return message;\n    }\n  };\n}\n\n/**\n * Async validator (for server-side validation)\n * @param {Function} fn - Async validation function\n * @param {string} message - Error message if fails\n * @returns {Function} Async validator\n */\nexport function asyncValidator(fn, message = 'Validation failed') {\n  return async (value) => {\n    try {\n      const result = await fn(value);\n      if (result === false) return message;\n      if (typeof result === 'string') return result;\n      return null;\n    } catch (err) {\n      console.error('Async validator error:', err);\n      return message;\n    }\n  };\n}\n\n/**\n * Conditional validator - validate only if condition is met\n * @param {Function} condition - Should return true/false\n * @param {Function} validator - Validator to apply\n * @returns {Function} Conditional validator\n */\nexport function when(condition, validator) {\n  return (value, formValues) => {\n    if (condition(formValues)) {\n      return validator(value, formValues);\n    }\n    return null;\n  };\n}\n\n/**\n * Field match validator - check if value matches another field\n * @param {string} fieldName - Name of field to match\n * @param {string} message - Error message\n * @returns {Function} Match validator\n */\nexport function match(fieldName, message = 'Fields do not match') {\n  return (value, formValues) => {\n    if (formValues && formValues[fieldName] !== value) {\n      return message;\n    }\n    return null;\n  };\n}\n\n/**\n * URL validator\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function url(message = 'Invalid URL') {\n  return (value) => {\n    if (!value) return null;\n    try {\n      new URL(value);\n      return null;\n    } catch {\n      return message;\n    }\n  };\n}\n\n/**\n * Number validator\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function number(message = 'Must be a number') {\n  return (value) => {\n    if (!value && value !== 0) return null;\n    if (isNaN(Number(value))) return message;\n    return null;\n  };\n}\n\n/**\n * Integer validator\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function integer(message = 'Must be an integer') {\n  return (value) => {\n    if (!value && value !== 0) return null;\n    if (!Number.isInteger(Number(value))) return message;\n    return null;\n  };\n}\n\n/**\n * Phone number validator (basic)\n * @param {string} message - Error message\n * @returns {Function} Validator function\n */\nexport function phone(message = 'Invalid phone number') {\n  return (value) => {\n    if (!value) return null;\n    // Very basic: at least 10 digits\n    const digits = value.replace(/\\D/g, '');\n    if (digits.length < 10) return message;\n    return null;\n  };\n}\n\nexport default {\n  required,\n  email,\n  minLength,\n  maxLength,\n  minValue,\n  maxValue,\n  pattern,\n  compose,\n  custom,\n  asyncValidator,\n  when,\n  match,\n  url,\n  number,\n  integer,\n  phone\n};"]}